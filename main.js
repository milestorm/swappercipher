"use strict";function createArray(e){var t=new Array(e||0),r=e;if(1<arguments.length)for(var n=Array.prototype.slice.call(arguments,1);r--;)t[e-1-r]=createArray.apply(this,n);return t}function keyPosInc(e){return++e>secretKey.length-1&&(e=0),e}function keyPosDec(e){return--e<0&&(e=secretKey.length-1),e}function shuffleEncode(e){for(var t=0,r=0;r<e.length;r++)for(var n=0;n<e[0].length;n++)keyX=secretKey[t][0],keyY=secretKey[t][1],(n+keyX<0||r+keyY<0||n+keyX>e[0].length-1||r+keyY>e.length-1)&&(keyY=keyX=0),buffer=e[r][n],change=e[r+keyY][n+keyX],e[r][n]=change,e[r+keyY][n+keyX]=buffer,t=keyPosInc(t);return e}function shuffleDecode(e){for(var t=secretKey.length-1,r=e.length-1;0<=r;r--)for(var n=e[0].length-1;0<=n;n--)keyX=secretKey[t][0],keyY=secretKey[t][1],(n+keyX<0||r+keyY<0||n+keyX>e[0].length-1||r+keyY>e.length-1)&&(keyY=keyX=0),buffer=e[r][n],change=e[r+keyY][n+keyX],e[r][n]=change,e[r+keyY][n+keyX]=buffer,t=keyPosDec(t),0==n&&(keyX=secretKey[t][0],keyY=secretKey[t][1],(n+keyX<0||r+keyY<0||n+keyX>e[0].length-1||r+keyY>e.length-1)&&(keyX=secretKey[t][0],keyY=secretKey[t][1]));return e}function prettyPrintArray(e){var t="";return e.forEach(function(e){e.forEach(function(e){t+=e+" "}),t=t.slice(0,-1),t+="\n"}),t}function encodedTextToArray(e){var t=e.replace(/ +?/g,""),r=(t.match(/\n/g)||"").length+1,n=t.split("\n")[0].length;t=t.replace(/\n/g,"");for(var o=createArray(r,n),c=0,u=0;u<o.length;u++)for(var y=0;y<o[0].length;y++)o[u][y]=t.substr(c,1),c++;return o}function inputTextToArray(e){var t=e.replace(/[.,\/#?!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s/g,"").toUpperCase();if(t.length%secretKey.length!=0)for(var r=secretKey.length-t.length%secretKey.length,n=0;n<r;n++)t+=".";for(var o=void 0,c=void 0,u=secretKey.length+1;u<16;u++)if(t.length%u==0){o=u,c=t.length/u;break}for(var y=createArray(o,c),l=0,a=0;a<y.length;a++)for(var i=0;i<y[0].length;i++)y[a][i]=t.substr(l,1),l++;return y}function errorCheck(e,t){return e.value.length<5?(t.innerText="Input must contain at least 5 characters.",t.classList.remove("hidden"),!1):(t.classList.add("hidden"),!0)}var secretKey=[[1,0],[0,-1],[-1,0],[0,1]],buffer=void 0,change=void 0,keyX=void 0,keyY=void 0,inputElm=document.querySelector(".inputCode"),errElm=document.querySelector(".errormessage"),outputEnablerElm=document.querySelector(".outputText"),outputHeading=document.querySelector(".outputHeading"),outputElm=document.querySelector(".outputCode");document.querySelector(".button.encode").addEventListener("click",function(){if(errorCheck(inputElm,errElm)){var e=shuffleEncode(inputTextToArray(inputElm.value));outputElm.innerText=prettyPrintArray(e),outputHeading.innerText="Encoded output",outputEnablerElm.classList.remove("hidden")}}),document.querySelector(".button.decode").addEventListener("click",function(){if(errorCheck(inputElm,errElm)){var e=shuffleDecode(encodedTextToArray(inputElm.value));outputElm.innerText=prettyPrintArray(e),outputHeading.innerText="Decoded output",outputEnablerElm.classList.remove("hidden")}});
//# sourceMappingURL=main.js.map